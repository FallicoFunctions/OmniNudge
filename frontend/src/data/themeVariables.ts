import type { CSSVariable, ThemeCategory } from '../types/theme';

export const DEFAULT_THEME_VARIABLES: Record<string, string> = {
  '--color-primary': '#3b82f6',
  '--color-primary-dark': '#2563eb',
  '--color-primary-light': '#60a5fa',
  '--color-background': '#ffffff',
  '--color-surface': '#f9fafb',
  '--color-surface-elevated': '#ffffff',
  '--color-text-primary': '#111827',
  '--color-text-secondary': '#6b7280',
  '--color-text-muted': '#9ca3af',
  '--color-border': '#e5e7eb',
  '--color-border-hover': '#d1d5db',
  '--color-success': '#10b981',
  '--color-warning': '#f59e0b',
  '--color-error': '#ef4444',
  '--color-info': '#3b82f6',
  '--font-family-base': "-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif",
  '--font-size-xs': '0.75rem',
  '--font-size-sm': '0.875rem',
  '--font-size-base': '1rem',
  '--font-size-lg': '1.125rem',
  '--font-size-xl': '1.25rem',
  '--font-size-2xl': '1.5rem',
  '--font-size-3xl': '1.875rem',
  '--spacing-xs': '0.25rem',
  '--spacing-sm': '0.5rem',
  '--spacing-md': '1rem',
  '--spacing-lg': '1.5rem',
  '--spacing-xl': '2rem',
  '--spacing-2xl': '3rem',
  '--border-radius-sm': '0.25rem',
  '--border-radius-md': '0.375rem',
  '--border-radius-lg': '0.5rem',
  '--border-radius-xl': '0.75rem',
  '--border-radius-2xl': '1rem',
  '--shadow-sm': '0 1px 2px 0 rgb(0 0 0 / 0.05)',
  '--shadow-md': '0 4px 6px -1px rgb(0 0 0 / 0.1)',
  '--shadow-lg': '0 10px 15px -3px rgb(0 0 0 / 0.1)',
  '--shadow-xl': '0 20px 25px -5px rgb(0 0 0 / 0.1)',
  '--transition-fast': '150ms ease',
  '--transition-base': '200ms ease',
  '--transition-slow': '300ms ease',
};

const colorVariables: CSSVariable[] = [
  {
    name: '--color-primary',
    label: 'Primary',
    category: 'color',
    type: 'color',
    description: 'Main brand color used for buttons and highlights.',
    value: DEFAULT_THEME_VARIABLES['--color-primary'],
  },
  {
    name: '--color-primary-dark',
    label: 'Primary Dark',
    category: 'color',
    type: 'color',
    description: 'Hover state for primary actions.',
    value: DEFAULT_THEME_VARIABLES['--color-primary-dark'],
  },
  {
    name: '--color-primary-light',
    label: 'Primary Light',
    category: 'color',
    type: 'color',
    description: 'Subtle backgrounds for emphasis.',
    value: DEFAULT_THEME_VARIABLES['--color-primary-light'],
  },
  {
    name: '--color-background',
    label: 'Background',
    category: 'color',
    type: 'color',
    description: 'Page background color.',
    value: DEFAULT_THEME_VARIABLES['--color-background'],
  },
  {
    name: '--color-surface',
    label: 'Surface',
    category: 'color',
    type: 'color',
    description: 'Card and panel backgrounds.',
    value: DEFAULT_THEME_VARIABLES['--color-surface'],
  },
  {
    name: '--color-surface-elevated',
    label: 'Surface Elevated',
    category: 'color',
    type: 'color',
    description: 'Popovers and dropdown panels.',
    value: DEFAULT_THEME_VARIABLES['--color-surface-elevated'],
  },
  {
    name: '--color-text-primary',
    label: 'Text Primary',
    category: 'color',
    type: 'color',
    description: 'Default text color.',
    value: DEFAULT_THEME_VARIABLES['--color-text-primary'],
  },
  {
    name: '--color-text-secondary',
    label: 'Text Secondary',
    category: 'color',
    type: 'color',
    description: 'Muted text, helper copy.',
    value: DEFAULT_THEME_VARIABLES['--color-text-secondary'],
  },
  {
    name: '--color-text-muted',
    label: 'Text Muted',
    category: 'color',
    type: 'color',
    description: 'Hints, placeholders.',
    value: DEFAULT_THEME_VARIABLES['--color-text-muted'],
  },
  {
    name: '--color-border',
    label: 'Border',
    category: 'color',
    type: 'color',
    description: 'Default border colors.',
    value: DEFAULT_THEME_VARIABLES['--color-border'],
  },
  {
    name: '--color-border-hover',
    label: 'Border Hover',
    category: 'color',
    type: 'color',
    description: 'Hover state for borders.',
    value: DEFAULT_THEME_VARIABLES['--color-border-hover'],
  },
  {
    name: '--color-success',
    label: 'Success',
    category: 'color',
    type: 'color',
    description: 'Positive status indicators.',
    value: DEFAULT_THEME_VARIABLES['--color-success'],
  },
  {
    name: '--color-warning',
    label: 'Warning',
    category: 'color',
    type: 'color',
    description: 'Caution indicators.',
    value: DEFAULT_THEME_VARIABLES['--color-warning'],
  },
  {
    name: '--color-error',
    label: 'Error',
    category: 'color',
    type: 'color',
    description: 'Destructive states.',
    value: DEFAULT_THEME_VARIABLES['--color-error'],
  },
  {
    name: '--color-info',
    label: 'Info',
    category: 'color',
    type: 'color',
    description: 'Information highlights.',
    value: DEFAULT_THEME_VARIABLES['--color-info'],
  },
];

const typographyVariables: CSSVariable[] = [
  {
    name: '--font-family-base',
    label: 'Base Font Family',
    category: 'typography',
    type: 'string',
    description: 'Primary font stack applied across the UI.',
    value: DEFAULT_THEME_VARIABLES['--font-family-base'],
  },
  {
    name: '--font-size-xs',
    label: 'Font Size XS',
    category: 'typography',
    type: 'size',
    unit: 'rem',
    description: 'Caption and helper text size.',
    value: DEFAULT_THEME_VARIABLES['--font-size-xs'],
  },
  {
    name: '--font-size-sm',
    label: 'Font Size SM',
    category: 'typography',
    type: 'size',
    unit: 'rem',
    description: 'Small body text.',
    value: DEFAULT_THEME_VARIABLES['--font-size-sm'],
  },
  {
    name: '--font-size-base',
    label: 'Font Size Base',
    category: 'typography',
    type: 'size',
    unit: 'rem',
    description: 'Default body text size.',
    value: DEFAULT_THEME_VARIABLES['--font-size-base'],
  },
  {
    name: '--font-size-lg',
    label: 'Font Size LG',
    category: 'typography',
    type: 'size',
    unit: 'rem',
    description: 'Large text elements.',
    value: DEFAULT_THEME_VARIABLES['--font-size-lg'],
  },
  {
    name: '--font-size-xl',
    label: 'Font Size XL',
    category: 'typography',
    type: 'size',
    unit: 'rem',
    description: 'Headline text size.',
    value: DEFAULT_THEME_VARIABLES['--font-size-xl'],
  },
  {
    name: '--font-size-2xl',
    label: 'Font Size 2XL',
    category: 'typography',
    type: 'size',
    unit: 'rem',
    description: 'Section headers.',
    value: DEFAULT_THEME_VARIABLES['--font-size-2xl'],
  },
  {
    name: '--font-size-3xl',
    label: 'Font Size 3XL',
    category: 'typography',
    type: 'size',
    unit: 'rem',
    description: 'Hero titles and banners.',
    value: DEFAULT_THEME_VARIABLES['--font-size-3xl'],
  },
];

const spacingVariables: CSSVariable[] = [
  {
    name: '--spacing-xs',
    label: 'Spacing XS',
    category: 'spacing',
    type: 'size',
    unit: 'rem',
    description: 'Tight spacing for chips and badges.',
    value: DEFAULT_THEME_VARIABLES['--spacing-xs'],
  },
  {
    name: '--spacing-sm',
    label: 'Spacing SM',
    category: 'spacing',
    type: 'size',
    unit: 'rem',
    description: 'Compact spacing for cards and forms.',
    value: DEFAULT_THEME_VARIABLES['--spacing-sm'],
  },
  {
    name: '--spacing-md',
    label: 'Spacing MD',
    category: 'spacing',
    type: 'size',
    unit: 'rem',
    description: 'Default spacing between sections.',
    value: DEFAULT_THEME_VARIABLES['--spacing-md'],
  },
  {
    name: '--spacing-lg',
    label: 'Spacing LG',
    category: 'spacing',
    type: 'size',
    unit: 'rem',
    description: 'Roomy spacing for layouts.',
    value: DEFAULT_THEME_VARIABLES['--spacing-lg'],
  },
  {
    name: '--spacing-xl',
    label: 'Spacing XL',
    category: 'spacing',
    type: 'size',
    unit: 'rem',
    description: 'Wide spacing for hero sections.',
    value: DEFAULT_THEME_VARIABLES['--spacing-xl'],
  },
  {
    name: '--spacing-2xl',
    label: 'Spacing 2XL',
    category: 'spacing',
    type: 'size',
    unit: 'rem',
    description: 'Gutter spacing for immersive layouts.',
    value: DEFAULT_THEME_VARIABLES['--spacing-2xl'],
  },
];

const layoutVariables: CSSVariable[] = [
  {
    name: '--border-radius-sm',
    label: 'Border Radius SM',
    category: 'layout',
    type: 'size',
    unit: 'rem',
    description: 'Subtle rounding for buttons and inputs.',
    value: DEFAULT_THEME_VARIABLES['--border-radius-sm'],
  },
  {
    name: '--border-radius-md',
    label: 'Border Radius MD',
    category: 'layout',
    type: 'size',
    unit: 'rem',
    description: 'Default rounding for cards.',
    value: DEFAULT_THEME_VARIABLES['--border-radius-md'],
  },
  {
    name: '--border-radius-lg',
    label: 'Border Radius LG',
    category: 'layout',
    type: 'size',
    unit: 'rem',
    description: 'Large rounding for surfaces.',
    value: DEFAULT_THEME_VARIABLES['--border-radius-lg'],
  },
  {
    name: '--border-radius-xl',
    label: 'Border Radius XL',
    category: 'layout',
    type: 'size',
    unit: 'rem',
    description: 'Used for modals or pill buttons.',
    value: DEFAULT_THEME_VARIABLES['--border-radius-xl'],
  },
  {
    name: '--border-radius-2xl',
    label: 'Border Radius 2XL',
    category: 'layout',
    type: 'size',
    unit: 'rem',
    description: 'Max rounding for hero elements.',
    value: DEFAULT_THEME_VARIABLES['--border-radius-2xl'],
  },
  {
    name: '--shadow-sm',
    label: 'Shadow SM',
    category: 'layout',
    type: 'string',
    description: 'Subtle elevation.',
    value: DEFAULT_THEME_VARIABLES['--shadow-sm'],
  },
  {
    name: '--shadow-md',
    label: 'Shadow MD',
    category: 'layout',
    type: 'string',
    description: 'Default elevation for cards.',
    value: DEFAULT_THEME_VARIABLES['--shadow-md'],
  },
  {
    name: '--shadow-lg',
    label: 'Shadow LG',
    category: 'layout',
    type: 'string',
    description: 'Prominent elevation for panels.',
    value: DEFAULT_THEME_VARIABLES['--shadow-lg'],
  },
  {
    name: '--shadow-xl',
    label: 'Shadow XL',
    category: 'layout',
    type: 'string',
    description: 'Deep shadow for modals.',
    value: DEFAULT_THEME_VARIABLES['--shadow-xl'],
  },
];

export const THEME_VARIABLE_GROUPS: ThemeCategory[] = [
  {
    id: 'colors',
    name: 'Color Palette',
    variables: colorVariables,
  },
  {
    id: 'typography',
    name: 'Typography',
    variables: typographyVariables,
  },
  {
    id: 'spacing',
    name: 'Spacing',
    variables: spacingVariables,
  },
  {
    id: 'layout',
    name: 'Layout & Effects',
    variables: layoutVariables,
  },
];

export const VARIABLE_DEFINITION_MAP: Record<string, CSSVariable> = THEME_VARIABLE_GROUPS.reduce(
  (acc, group) => {
    group.variables.forEach((variable) => {
      acc[variable.name] = variable;
    });
    return acc;
  },
  {} as Record<string, CSSVariable>
);

export const getVariableDefinition = (name: string): CSSVariable | undefined =>
  VARIABLE_DEFINITION_MAP[name];
